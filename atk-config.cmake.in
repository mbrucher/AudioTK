####
#### ATK configuration file for CMake
####

set(HAS_STD_ALIGN2 @HAS_STD_ALIGN2@) # required for GCC < 5.0
set(ATK_VERSION @ATK_VERSION@)

if(HAS_STD_ALIGN2)
  add_definitions(-DHAS_STD_ALIGN)
endif(HAS_STD_ALIGN2)

set(PREFIX ${CMAKE_CURRENT_LIST_DIR})

set(ATK_INCLUDE_DIRS ${PREFIX}/include)

set(ATK_MANDATORY_VARS ATK_INCLUDE_DIRS ATK_LIBRARIES)

if(ATK_FIND_COMPONENTS)
  foreach(component ${ATK_FIND_COMPONENTS})
    find_library(ATK_${component}_LIBRARY NAMES ATK${component} PATHS ${PREFIX}/lib)
    set(ATK_MANDATORY_VARS ${ATK_MANDATORY_VARS} ATK_${component}_LIBRARY)
    set(ATK_LIBRARIES ${ATK_LIBRARIES} ATK_${component}_LIBRARY)
    if(ATK_${component}_LIBRARY)
      set(ATK_${component}_FOUND True)
    endif(ATK_${component}_LIBRARY)
  endforeach(component ${ATK_FIND_COMPONENTS})
else(ATK_FIND_COMPONENTS)
  find_library(ATK_UTILITY_LIBRARY NAMES ATKUtility PATHS ${PREFIX}/lib)
  find_library(ATK_CORE_LIBRARY NAMES ATKCore PATHS ${PREFIX}/lib)
  find_library(ATK_MOCK_LIBRARY NAMES ATKMock PATHS ${PREFIX}/lib)
  find_library(ATK_TOOLS_LIBRARY NAMES ATKTools PATHS ${PREFIX}/lib)
  find_library(ATK_IO_LIBRARY NAMES ATKIO PATHS ${PREFIX}/lib)
  find_library(ATK_EQ_LIBRARY NAMES ATKEQ PATHS ${PREFIX}/lib)
  find_library(ATK_EQSIMD_LIBRARY NAMES ATKEQSIMD PATHS ${PREFIX}/lib)
  find_library(ATK_EQSIMD2_LIBRARY NAMES ATKEQSIMD2 PATHS ${PREFIX}/lib)
  find_library(ATK_DELAY_LIBRARY NAMES ATKDelay PATHS ${PREFIX}/lib)
  find_library(ATK_DYNAMIC_LIBRARY NAMES ATKDynamic PATHS ${PREFIX}/lib)
  find_library(ATK_DISTORTION_LIBRARY NAMES ATKDistortion PATHS ${PREFIX}/lib)
  find_library(ATK_REVERBERATION_LIBRARY NAMES ATKReverberation PATHS ${PREFIX}/lib)
  find_library(ATK_SPECIAL_LIBRARY NAMES ATKSpecial PATHS ${PREFIX}/lib)
  find_library(ATK_ADAPTIVE_LIBRARY NAMES ATKAdaptive PATHS ${PREFIX}/lib)
  find_library(ATK_PREAMPLIFIER_LIBRARY NAMES ATKPreamplifier PATHS ${PREFIX}/lib)

  set(ATK_LIBRARIES
     ${ATK_UTILITY_LIBRARY}
     ${ATK_CORE_LIBRARY}
     ${ATK_MOCK_LIBRARY}
     ${ATK_TOOLS_LIBRARY}
     ${ATK_IO_LIBRARY}
     ${ATK_EQ_LIBRARY}
     ${ATK_EQSIMD_LIBRARY}
     ${ATK_EQSIMD2_LIBRARY}
     ${ATK_DELAY_LIBRARY}
     ${ATK_DYNAMIC_LIBRARY}
     ${ATK_DISTORTION_LIBRARY}
     ${ATK_REVERBERATION_LIBRARY}
     ${ATK_SPECIAL_LIBRARY}
     ${ATK_ADAPTIVE_LIBRARY}
     ${ATK_PREAMPLIFIER_LIBRARY}
    )
  set(ATK_MANDATORY_VARS ${ATK_MANDATORY_VARS} ATK_CORE_LIBRARY)
endif(ATK_FIND_COMPONENTS)

INCLUDE(FindPackageHandleStandardArgs)
FIND_PACKAGE_HANDLE_STANDARD_ARGS(ATK
  REQUIRED_VARS ${ATK_MANDATORY_VARS}
  HANDLE_COMPONENTS
  VERSION_VAR ATK_VERSION
  )
